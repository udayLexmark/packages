<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">calculateDateDifference</value>
  <value name="encodeutf8">true</value>
  <value name="body">Ly8gcGlwZWxpbmUKSURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJz
b3IoKTsKU3RyaW5nCXN0YXJ0RGF0ZVRpbWUgPSAiIjsKU3RyaW5nCWVuZERhdGVUaW1lID0gIiI7
ClN0cmluZyBzdGFydERhdGVGb3JtYXQgPSAiIjsKU3RyaW5nIGVuZERhdGVGb3JtYXQgPSAiIjsK
aWYgKHBpcGVsaW5lQ3Vyc29yLmZpcnN0KCJzdGFydERhdGVUaW1lIikpCnsKCXN0YXJ0RGF0ZVRp
bWUgPSAoU3RyaW5nKSBwaXBlbGluZUN1cnNvci5nZXRWYWx1ZSgpOwp9CmlmIChwaXBlbGluZUN1
cnNvci5maXJzdCgiZW5kRGF0ZVRpbWUiKSkKewoJZW5kRGF0ZVRpbWUgPSAoU3RyaW5nKSBwaXBl
bGluZUN1cnNvci5nZXRWYWx1ZSgpOwp9CmlmIChwaXBlbGluZUN1cnNvci5maXJzdCgic3RhcnRE
YXRlRm9ybWF0IikpCnsKCXN0YXJ0RGF0ZUZvcm1hdCA9IChTdHJpbmcpIHBpcGVsaW5lQ3Vyc29y
LmdldFZhbHVlKCk7Cn0KaWYgKHBpcGVsaW5lQ3Vyc29yLmZpcnN0KCJlbmREYXRlRm9ybWF0Iikp
CnsKCWVuZERhdGVGb3JtYXQgPSAoU3RyaW5nKSBwaXBlbGluZUN1cnNvci5nZXRWYWx1ZSgpOwp9
CgppZiAoc3RhcnREYXRlVGltZS5lcXVhbHMoIiIpIHx8IGVuZERhdGVUaW1lLmVxdWFscygiIikp
Cgl0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0ZXMgY2Fubm90IGJlIG51bGwiKTsKaWYg
KHN0YXJ0RGF0ZUZvcm1hdC5lcXVhbHMoIiIpIHx8IGVuZERhdGVGb3JtYXQuZXF1YWxzKCIiKSkK
CXRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJEYXRlIGZvcm1hdHMgY2Fubm90IGJlIG51bGwi
KTsKCnBpcGVsaW5lQ3Vyc29yLmRlc3Ryb3koKTsKCnRyeSB7CgkJU2ltcGxlRGF0ZUZvcm1hdCBz
ZGYgPSBuZXcgU2ltcGxlRGF0ZUZvcm1hdChzdGFydERhdGVGb3JtYXQpOwoJCURhdGUgc2R0ID0g
c2RmLnBhcnNlKHN0YXJ0RGF0ZVRpbWUpOwoJCVNpbXBsZURhdGVGb3JtYXQgZWRmID0gbmV3IFNp
bXBsZURhdGVGb3JtYXQoZW5kRGF0ZUZvcm1hdCk7CgkJRGF0ZSBlZHQgPSBlZGYucGFyc2UoZW5k
RGF0ZVRpbWUpOwoJCWxvbmcgIHRpbWVkaWZmID0gZWR0LmdldFRpbWUoKSAtIHNkdC5nZXRUaW1l
KCk7CgovLwkJU2ltcGxlRGF0ZUZvcm1hdCBzc2RmID0gbmV3IFNpbXBsZURhdGVGb3JtYXQoIkhI
Om1tOnNzIik7Ci8vCQlDYWxlbmRhciBjYWwgPSBDYWxlbmRhci5nZXRJbnN0YW5jZSgpOwovLwkJ
Y2FsLmNsZWFyKCk7Ci8vCQljYWwuc2V0KENhbGVuZGFyLlNFQ09ORCwgKGludCkgdGltZWRpZmYg
LzEwMDApOwoKLy8JCURhdGUgbmV3RGF0ZVRpbWUgPSBjYWwuZ2V0VGltZSgpOwovLwkJU3RyaW5n
IGRpc3BsYXlUaW1lPW51bGw7CgovLwkJaWYgKGNhbC5nZXQoQ2FsZW5kYXIuREFZX09GX1lFQVIp
ID4gMSApCi8vCQkgICAgZGlzcGxheVRpbWUgPSBzc2RmLmZvcm1hdChuZXdEYXRlVGltZSkgKyAi
IGFuZCAiICsgKGNhbC5nZXQoQ2FsZW5kYXIuREFZX09GX1lFQVIpLTEpICsgIiBEYXkocykiIDsK
Ly8JCWVsc2UgCi8vCQkgICAgZGlzcGxheVRpbWUgPSBzc2RmLmZvcm1hdChuZXdEYXRlVGltZSk7
CgoJCVN0cmluZyBkaXNwbGF5VGltZVNlYyA9IExvbmcudG9TdHJpbmcodGltZWRpZmYvMTAwMCk7
CgkJU3RyaW5nIGRpc3BsYXlUaW1lTWluID0gTG9uZy50b1N0cmluZyh0aW1lZGlmZi82MDAwMCk7
CgkJU3RyaW5nIGRpc3BsYXlUaW1lSHIgPSBMb25nLnRvU3RyaW5nKHRpbWVkaWZmLzM2MDAwMDAp
OwoJCVN0cmluZyBkaXNwbGF5VGltZURheSA9IExvbmcudG9TdHJpbmcodGltZWRpZmYvODY0MDAw
MDApOwoKCQkvLyBwaXBlbGluZQoJCUlEYXRhQ3Vyc29yIHBpcGVsaW5lQ3Vyc29yXzEgPSBwaXBl
bGluZS5nZXRDdXJzb3IoKTsKCQlwaXBlbGluZUN1cnNvcl8xLmxhc3QoKTsKCQlwaXBlbGluZUN1
cnNvcl8xLmluc2VydEFmdGVyKCAiZGF0ZURpZmZlcmVuY2VTZWMiLCBkaXNwbGF5VGltZVNlYyk7
CgkJcGlwZWxpbmVDdXJzb3JfMS5pbnNlcnRBZnRlciggImRhdGVEaWZmZXJlbmNlTWluIiwgZGlz
cGxheVRpbWVNaW4pOwoJCXBpcGVsaW5lQ3Vyc29yXzEuaW5zZXJ0QWZ0ZXIoICJkYXRlRGlmZmVy
ZW5jZUhyIiwgZGlzcGxheVRpbWVIcik7CgkJcGlwZWxpbmVDdXJzb3JfMS5pbnNlcnRBZnRlcigg
ImRhdGVEaWZmZXJlbmNlRGF5IiwgZGlzcGxheVRpbWVEYXkpOwoJCXBpcGVsaW5lQ3Vyc29yXzEu
ZGVzdHJveSgpOwoJfSBjYXRjaCAoUGFyc2VFeGNlcHRpb24gZSkgewoJCXRocm93IG5ldyBTZXJ2
aWNlRXhjZXB0aW9uKCJFcnJvciBwYXJzaW5nIHRoZSBkYXRlIHRpbWU6ICIgKyBlKTsKCX0=</value>
</Values>
