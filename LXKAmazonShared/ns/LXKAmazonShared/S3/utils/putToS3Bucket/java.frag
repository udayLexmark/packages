<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">putToS3Bucket</value>
  <value name="encodeutf8">true</value>
  <value name="body">Ly8gcGlwZWxpbmUNCklEYXRhQ3Vyc29yIHBpcGVsaW5lQ3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vy
c29yKCk7DQoJQW1hem9uUzMgY29ubiA9IChBbWF6b25TMykgSURhdGFVdGlsLmdldCggcGlwZWxp
bmVDdXJzb3IsICJjb25uIiApOw0KCU9iamVjdE1ldGFkYXRhIG1vYmogPSAoT2JqZWN0TWV0YWRh
dGEpIElEYXRhVXRpbC5nZXQoIHBpcGVsaW5lQ3Vyc29yLCAibW9iaiIpOw0KCVN0cmluZwlmaWxl
bmFtZXMgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKCBwaXBlbGluZUN1cnNvciwgImZpbGVuYW1lcyIg
KTsNCglTdHJpbmcJZmlsZWtleSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoIHBpcGVsaW5lQ3Vyc29y
LCAiZmlsZWtleSIgKTsNCglTdHJpbmcgZm9sZGVyID0gSURhdGFVdGlsLmdldFN0cmluZyggcGlw
ZWxpbmVDdXJzb3IsICJmb2xkZXIiKTsNCglTdHJpbmcgYnVja2V0TmFtZSA9IElEYXRhVXRpbC5n
ZXRTdHJpbmcoIHBpcGVsaW5lQ3Vyc29yLCAiYnVja2V0TmFtZSIpOw0KCVN0cmluZyBlbmNyeXB0
aW9uRmxhZyA9IElEYXRhVXRpbC5nZXRTdHJpbmcoIHBpcGVsaW5lQ3Vyc29yLCAiZW5jcnlwdGlv
bkZsYWciKTsNCglJbnB1dFN0cmVhbSBjb250ZW50U3RyZWFtID0gKElucHV0U3RyZWFtKSBJRGF0
YVV0aWwuZ2V0KCBwaXBlbGluZUN1cnNvciwgImNvbnRlbnRTdHJlYW0iICk7DQoJIC8vICBTZWNy
ZXRLZXkgc2VjcmV0S2V5ID0gZ2VuZXJhdGVTZWNyZXRLZXkoKTsNCgkgICANCiAgICAgICAgLy9T
U0VDdXN0b21lcktleSBzc2VLZXkgPSBuZXcgU1NFQ3VzdG9tZXJLZXkoc2VjcmV0S2V5KTsNCgkv
L09iamVjdE1ldGFkYXRhIG1vYmogPSBuZXcgT2JqZWN0TWV0YWRhdGEoKTsNCgkvL21vYmo9bnVs
bDsNCgkNCglTdHJpbmcgc3RhdHVzID0gIkZhbHNlIjsNCglTdHJpbmcgc3JSZXNwPSIiOw0KCVN0
cmluZyBmaWxlS2V5PWZpbGVrZXk7DQoJdHJ5DQoJew0KCQkvL0tleUdlbmVyYXRvciBnZW5lcmF0
b3IgPSBLZXlHZW5lcmF0b3IuZ2V0SW5zdGFuY2UoIkFFUyIpOw0KICAgICAgIC8vIGdlbmVyYXRv
ci5pbml0KDI1NiwgbmV3IFNlY3VyZVJhbmRvbSgpKTsNCiAgICAgICAvLyBTZWNyZXRLZXkgc2Vj
cmV0S3kgPSBnZW5lcmF0b3IuZ2VuZXJhdGVLZXkoKTsNCiAgICAgICAgaWYoZW5jcnlwdGlvbkZs
YWc9PW51bGwgfHwgZW5jcnlwdGlvbkZsYWcuaXNFbXB0eSgpIHx8IGVuY3J5cHRpb25GbGFnPT0i
IikNCiAgICAgICAgCWVuY3J5cHRpb25GbGFnPSJGYWxzZSI7DQoJCWlmKGZpbGVuYW1lcyE9IiIp
DQoJCXsNCg0KCQkJaWYoZm9sZGVyIT0iIikNCgkJCXsJCQ0KCQkJCWlmKChmaWxla2V5IT0iIikg
JiYgKGZpbGVrZXkhPW51bGwpKXsNCgkJCQkgIA0KCQkJCSAgZmlsZUtleT1mb2xkZXIrIi8iK2Zp
bGVrZXk7DQoJCQkJICANCgkJCSAgIH1lbHNlew0KCQkJCWZpbGVLZXkgPSBmb2xkZXIrIi8iK2Zp
bGVuYW1lczsNCgkJCSAgIH0NCgkJCQlQdXRPYmplY3RSZXF1ZXN0IHB1dFJlcXVlc3QgPSBuZXcg
UHV0T2JqZWN0UmVxdWVzdChidWNrZXROYW1lLCBmaWxlS2V5LCBuZXcgRmlsZShmaWxlbmFtZXMp
KTsNCgkJCQlpZihlbmNyeXB0aW9uRmxhZy5lcXVhbHMoIlRydWUiKSkNCgkJCQl7DQoJCQkJCU9i
amVjdE1ldGFkYXRhIG9iamVjdE1ldGFkYXRhID0gbmV3IE9iamVjdE1ldGFkYXRhKCk7DQoJCQkJ
DQoJCQkJDQoJCQkJCW9iamVjdE1ldGFkYXRhLnNldFNlcnZlclNpZGVFbmNyeXB0aW9uKE9iamVj
dE1ldGFkYXRhLkFFU18yNTZfU0VSVkVSX1NJREVfRU5DUllQVElPTik7DQoJCQkJICAgICANCgkJ
CQkJcHV0UmVxdWVzdC5zZXRNZXRhZGF0YShvYmplY3RNZXRhZGF0YSk7DQoJCQkJfQ0KCQkJCQ0K
CQkJCQ0KCQkJCVB1dE9iamVjdFJlc3VsdCByZXNwb25zZSA9IGNvbm4ucHV0T2JqZWN0KHB1dFJl
cXVlc3QpOw0KCQkJCS8vc3RhdHVzPSJpbiBwcm9wZXIiOw0KCQkJCQ0KCQkJCQ0KCQkJfQ0KCQkJ
ZWxzZQ0KCQkJew0KCQkJCWZpbGVLZXkgPSBmaWxlbmFtZXM7DQoJCQkJUHV0T2JqZWN0UmVxdWVz
dCBwdXRSZXF1ZXN0ID0gbmV3IFB1dE9iamVjdFJlcXVlc3QoYnVja2V0TmFtZSwgZmlsZUtleSwg
bmV3IEZpbGUoZmlsZW5hbWVzKSk7DQoJCQkJDQoJCQkJaWYoZW5jcnlwdGlvbkZsYWcuZXF1YWxz
KCJUcnVlIikpDQoJCQkJew0KCQkJCQlPYmplY3RNZXRhZGF0YSBvYmplY3RNZXRhZGF0YSA9IG5l
dyBPYmplY3RNZXRhZGF0YSgpOw0KCQkJCQ0KCQkJCQlvYmplY3RNZXRhZGF0YS5zZXRTZXJ2ZXJT
aWRlRW5jcnlwdGlvbihPYmplY3RNZXRhZGF0YS5BRVNfMjU2X1NFUlZFUl9TSURFX0VOQ1JZUFRJ
T04pOw0KCQkJCSAgICAgDQoJCQkJCXB1dFJlcXVlc3Quc2V0TWV0YWRhdGEob2JqZWN0TWV0YWRh
dGEpOw0KCQkJCX0NCgkJCQkNCgkJCQkNCgkJCQlQdXRPYmplY3RSZXN1bHQgcmVzcG9uc2UgPSBj
b25uLnB1dE9iamVjdChwdXRSZXF1ZXN0KTsNCgkJCQkNCgkJCQlHZXRPYmplY3RNZXRhZGF0YVJl
cXVlc3QgcmVxdWVzdDIgPSANCgkJICAgICAgICAgICAgICAgIG5ldyBHZXRPYmplY3RNZXRhZGF0
YVJlcXVlc3QoYnVja2V0TmFtZSwgZmlsZUtleSk7DQoJCSAgICAgICAgIA0KCQlPYmplY3RNZXRh
ZGF0YSBtZXRhZGF0YSA9IGNvbm4uZ2V0T2JqZWN0TWV0YWRhdGEocmVxdWVzdDIpOw0KCQlzclJl
c3A9cmVzcG9uc2UuZ2V0U2VydmVyU2lkZUVuY3J5cHRpb24oKTsNCgkJCX0NCgkJfQ0KCQllbHNl
DQoJCXsNCg0KCQkJUHV0T2JqZWN0UmVxdWVzdCBwdXRSZXF1ZXN0ID0gbmV3IFB1dE9iamVjdFJl
cXVlc3QoYnVja2V0TmFtZSwgZmlsZUtleSwgY29udGVudFN0cmVhbSwgbW9iaik7DQoJCQkNCgkJ
CWlmKGVuY3J5cHRpb25GbGFnLmVxdWFscygiVHJ1ZSIpKQ0KCQkJew0KCQkJCU9iamVjdE1ldGFk
YXRhIG9iamVjdE1ldGFkYXRhID0gbmV3IE9iamVjdE1ldGFkYXRhKCk7DQoJCQkNCgkJCQ0KCQkJ
CW9iamVjdE1ldGFkYXRhLnNldFNlcnZlclNpZGVFbmNyeXB0aW9uKE9iamVjdE1ldGFkYXRhLkFF
U18yNTZfU0VSVkVSX1NJREVfRU5DUllQVElPTik7DQoJCQkgICAgIA0KCQkJCXB1dFJlcXVlc3Qu
c2V0TWV0YWRhdGEob2JqZWN0TWV0YWRhdGEpOw0KCQkJfQ0KCQkJDQoJCQkNCgkJCVB1dE9iamVj
dFJlc3VsdCByZXNwb25zZSA9IGNvbm4ucHV0T2JqZWN0KHB1dFJlcXVlc3QpOw0KCQkJLy9zdGF0
dXM9ImFmdGVyIjsNCgkJfQ0KCQlzdGF0dXMgPSAiVHJ1ZSI7DQoJCQ0KCX0NCgljYXRjaChFeGNl
cHRpb24gZSkNCgl7DQogICAgICAgICAgICAgICAvLyBzdGF0dXM9ZmlsZW5hbWVzICsgZm9sZGVy
Ow0KCQl0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbihlLnRvU3RyaW5nKCkpOw0KCX0NCg0KDQov
LyBwaXBlbGluZQ0KLy9JRGF0YUN1cnNvciBwaXBlbGluZUN1cnNvciA9IHBpcGVsaW5lLmdldEN1
cnNvcigpOw0KSURhdGFVdGlsLnB1dCggcGlwZWxpbmVDdXJzb3IsICJzdGF0dXMiLCBzdGF0dXMp
Ow0KcGlwZWxpbmVDdXJzb3IuZGVzdHJveSgpOw0KCQ==</value>
</Values>
