<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">writeMessages</value>
  <value name="encodeutf8">true</value>
  <value name="body">DQoNCg0gICAgICAgIElEYXRhICAgICAgIGlQaXBlbGluZSA9IChJRGF0YSkgaW47CiAgICAgICAg
SURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBpUGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CiAgICAg
ICAgCgkJdHJ5CgkJeyAgICAgICAgICAgIAogICAgICAgICAgICBTdHJpbmcgZmlsZVBhdGggPSBu
dWxsOwogICAgICAgICAgICBpZiAocGlwZWxpbmVDdXJzb3IuZmlyc3QoSUNvbnN0YW50cy5UUkFO
U0ZPUk1fTUVTU0FHRV9GSUxFX0RJUikpCiAgICAgICAgICAgIHsKCQkJICAgIGZpbGVQYXRoID0g
KFN0cmluZylwaXBlbGluZUN1cnNvci5nZXRWYWx1ZSgpOwoJCQl9CiAgICAgICAgICAgIFN0cmlu
ZyBmaWxlTmFtZSA9IG51bGw7CiAgICAgICAgICAgIGlmIChwaXBlbGluZUN1cnNvci5maXJzdChJ
Q29uc3RhbnRzLlRSQU5TRk9STV9NRVNTQUdFX0ZJTEVfTkFNRSkpCiAgICAgICAgICAgIHsKCQkJ
ICAgIGZpbGVOYW1lID0oU3RyaW5nKXBpcGVsaW5lQ3Vyc29yLmdldFZhbHVlKCk7CgkJCX0KCQkJ
U3RyaW5nIG91dF94bWxQYXRoID0gIk91dHB1dCI7CiAgICAJCQoJCQlGaWxlIGZpbGVEaXIgPSBu
ZXcgRmlsZShvdXRfeG1sUGF0aCk7CgkJCWlmICghZmlsZURpci5pc0RpcmVjdG9yeSgpKQoJCSAg
ICB7CgkJCSAgICBmaWxlRGlyLm1rZGlyKCk7CgkJICAgIH0KICAgIAkJCgkJICAgIGlmIChmaWxl
UGF0aCAhPSBudWxsICYmIGZpbGVQYXRoLmVxdWFscygiIikgPT0gZmFsc2UpCgkJICAgIHsKCQkJ
ICAgIG91dF94bWxQYXRoICs9ICJcXCIgKyBmaWxlUGF0aDsKCQkJICAgIEZpbGUgbmV3ZmlsZURp
ciA9IG5ldyBGaWxlKG91dF94bWxQYXRoKTsKCQkJICAgIGlmICghbmV3ZmlsZURpci5pc0RpcmVj
dG9yeSgpKQoJCQkJewoJCQkJCW5ld2ZpbGVEaXIubWtkaXIoKTsKCQkJCX0KCQkJfQogICAgCQkK
CQkJaWYgKGZpbGVOYW1lICE9IG51bGwgJiYgZmlsZU5hbWUuZXF1YWxzKCIiKSA9PSBmYWxzZSkK
CQkJewoJCQkJb3V0X3htbFBhdGggKz0gIlxcIiArIGZpbGVOYW1lICsgIi54bWwiOwoJCQl9CgkJ
CWVsc2UKCQkJewoJCQkJb3V0X3htbFBhdGggKz0gIlxcIiArICJDb250aXZvX01lc3NhZ2VzLnht
bCI7CgkJCX0KCiAgICAgICAgICAgIFByaW50V3JpdGVyIG1fZmlsZSA9IG5ldyBQcmludFdyaXRl
cihuZXcgQnVmZmVyZWRXcml0ZXIobmV3IEZpbGVXcml0ZXIob3V0X3htbFBhdGgpKSk7CiAgICAg
ICAgICAgICAgICAKICAgICAgICAgICAgLy9TeXN0ZW0ub3V0LnByaW50bG4oImZpbGUgaXMgY3Jl
YXRlZCEiKTsKCiAgICAgICAgICAgIFN0cmluZyBSRVZlcnNpb24gPSBudWxsOwogICAgICAgICAg
ICBpZiAocGlwZWxpbmVDdXJzb3IuZmlyc3QoSUNvbnN0YW50cy5UUkFOU0ZPUk1BVElPTl9FTkdJ
TkVfVkVSU0lPTl9OQU1FKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgUkVWZXJzaW9u
ID0gKFN0cmluZylwaXBlbGluZUN1cnNvci5nZXRWYWx1ZSgpOwogICAgICAgICAgICB9CiAgICAg
ICAgICAgIFN0cmluZyB0aW1lU3RhbXAgPSBudWxsOwogICAgICAgICAgICBpZiAocGlwZWxpbmVD
dXJzb3IuZmlyc3QoSUNvbnN0YW50cy5UUkFOU0ZPUk1fVElNRV9TVEFNUCkpCiAgICAgICAgICAg
IHsKICAgICAgICAgICAgICAgIHRpbWVTdGFtcCA9IChTdHJpbmcpcGlwZWxpbmVDdXJzb3IuZ2V0
VmFsdWUoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbV9maWxlLnByaW50bG4oIjxtZXNz
YWdlICIgCiAgICAgICAgICAgICAgICAgICAgKyAoKFJFVmVyc2lvbj09bnVsbCk/IiI6KCJSRVZl
cnNpb249XCIiK1JFVmVyc2lvbiArIlwiIikpCiAgICAgICAgICAgICAgICAgICAgKyAoKHRpbWVT
dGFtcD09bnVsbCk/IiI6KCIgdHJhbnNmb3JtQ3JlYXRpb25UaW1lPVwiIit0aW1lU3RhbXAgKyJc
IiIpKQogICAgICAgICAgICAgICAgICAgICsgIj4iKTsKICAgICAgICAgICAgaWYgKHBpcGVsaW5l
Q3Vyc29yLmZpcnN0KElDb25zdGFudHMuVFJBTlNGT1JNX1JFUE9SVFMpKQogICAgICAgICAgICB7
CiAgICAgICAgICAgICAgICBJRGF0YUN1cnNvciBtX3JlcG9ydFZhbHVlcyA9ICgoSURhdGEpcGlw
ZWxpbmVDdXJzb3IuZ2V0VmFsdWUoKSkuZ2V0Q3Vyc29yKCk7CiAgICAJCSAgICAvL1N5c3RlbS5v
dXQucHJpbnRsbigiZ2VuZXJhdGluZyByZXBvcnRzIC4uLiIpOwogICAgICAgICAgICAgICAgbV9m
aWxlLnByaW50bG4oIiA8UmVwb3J0cz4iKTsKICAgICAgICAgICAgICAgIGlmIChtX3JlcG9ydFZh
bHVlcy5maXJzdChJQ29uc3RhbnRzLlRSQU5TRk9STV9TT1VSQ0VfU1RSVUNUVVJFX05BTUUpKQog
ICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vU3lzdGVtLm91dC5wcmludGxu
KCJnZW5lcmF0aW5nIHNvdXJjZSBzdHJ1Y3R1cmUgLi4uIik7CiAgICAgICAgICAgICAgICAgICAg
bV9maWxlLnByaW50bG4oIiAgPFNvdXJjZT4iKTsKICAgICAgICAgICAgICAgICAgICBtX2ZpbGUu
cHJpbnRsbigiICAiICsgbm9ybWFsaXplKChTdHJpbmcpbV9yZXBvcnRWYWx1ZXMuZ2V0VmFsdWUo
KSkpOwogICAgICAgICAgICAgICAgICAgIG1fZmlsZS5wcmludGxuKCIgIDwvU291cmNlPiIpOyAg
ICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICAgICAg
ICAgIGlmIChtX3JlcG9ydFZhbHVlcy5maXJzdChJQ29uc3RhbnRzLlRSQU5TRk9STV9UQVJHRVRf
U1RSVUNUVVJFX05BTUUpKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8v
U3lzdGVtLm91dC5wcmludGxuKCJnZW5lcmF0aW5nIHRhcmdldCBzdHJ1Y3R1cmUgLi4uIik7CiAg
ICAgICAgICAgICAgICAgICAgbV9maWxlLnByaW50bG4oIiAgPFRhcmdldD4iKTsKICAgICAgICAg
ICAgICAgICAgICBtX2ZpbGUucHJpbnRsbigiICAiICsgbm9ybWFsaXplKChTdHJpbmcpbV9yZXBv
cnRWYWx1ZXMuZ2V0VmFsdWUoKSkpOwogICAgICAgICAgICAgICAgICAgIG1fZmlsZS5wcmludGxu
KCIgIDwvVGFyZ2V0PiIpOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0gICAgICAg
ICAgICAKICAgICAgICAgICAgICAgIGlmIChtX3JlcG9ydFZhbHVlcy5maXJzdChJQ29uc3RhbnRz
LlRSQU5TRk9STV9MT09QX0FTU09DSUFUSU9OX05BTUUpKQogICAgICAgICAgICAgICAgewogICAg
ICAgICAgICAgICAgICAgIC8vU3lzdGVtLm91dC5wcmludGxuKCJnZW5lcmF0aW5nIExvb3AgQXNz
b2NpYXRpb25zIC4uLiIpOwogICAgICAgICAgICAgICAgICAgIG1fZmlsZS5wcmludGxuKCIgIDxM
b29wQXNzb2NpYXRpb24+Iik7CiAgICAgICAgICAgICAgICAgICAgbV9maWxlLnByaW50bG4oIiAg
IiArIG5vcm1hbGl6ZSgoU3RyaW5nKW1fcmVwb3J0VmFsdWVzLmdldFZhbHVlKCkpKTsKICAgICAg
ICAgICAgICAgICAgICBtX2ZpbGUucHJpbnRsbigiICA8L0xvb3BBc3NvY2lhdGlvbj4iKTsgICAg
ICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgCiAgICAgICAgICAgICAg
ICBtX2ZpbGUucHJpbnRsbigiIDwvUmVwb3J0cz4iKTsKICAgICAgICAgICAgfQogICAgICAgICAg
ICBpZiAocGlwZWxpbmVDdXJzb3IuZmlyc3QoSUNvbnN0YW50cy5UUkFOU0ZPUk1fVFJBQ0UpKQog
ICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBJRGF0YUN1cnNvciBtX3RyYWNlVmFsdWVzID0g
KChJRGF0YSlwaXBlbGluZUN1cnNvci5nZXRWYWx1ZSgpKS5nZXRDdXJzb3IoKTsKICAgICAgICAg
ICAgICAgIC8vU3lzdGVtLm91dC5wcmludGxuKCJnZW5lcmF0aW5nIHRyYWNlIC4uLiIpOwogICAg
ICAgICAgICAgICAgbV9maWxlLnByaW50bG4oIiA8VHJhY2U+Iik7CiAgICAgICAgICAgICAgICBT
dHJpbmcga2V5ID0gbnVsbDsKICAgICAgICAgICAgICAgIFN0cmluZyB2YWx1ZSA9IG51bGw7CiAg
ICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChtX3RyYWNlVmFsdWVzLmZpcnN0KCkp
CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZG8KICAgICAgICAgICAgICAg
ICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vU3lzdGVtLm91dC5wcmludGxuKCJUcmFj
ZSBoYXMgbW9yZSBkYXRhLiIpOwogICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBtX3RyYWNl
VmFsdWVzLmdldEtleSgpOwogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5vcm1hbGl6
ZSgoU3RyaW5nKSBtX3RyYWNlVmFsdWVzLmdldFZhbHVlKCkpOwogICAgICAgICAgICAgICAgICAg
ICAgICBtX2ZpbGUucHJpbnRsbigiICA8TXNnPiIpOwogICAgICAgICAgICAgICAgICAgICAgICBt
X2ZpbGUucHJpbnRsbigiICAgICIgKyBrZXkgKyAiICAgIiArIHZhbHVlKTsgICAgICAgICAgICAg
ICAgCiAgICAgICAgICAgICAgICAgICAgICAgIG1fZmlsZS5wcmludGxuKCIgIDwvTXNnPiIpOwog
ICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB3aGlsZShtX3RyYWNlVmFs
dWVzLm5leHQoKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBtX2ZpbGUucHJp
bnRsbigiIDwvVHJhY2U+Iik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChwaXBlbGlu
ZUN1cnNvci5maXJzdChJQ29uc3RhbnRzLlRSQU5TRk9STV9FUlJPUikpCiAgICAgICAgICAgIHsK
ICAgICAgICAgICAgICAgIC8vU3lzdGVtLm91dC5wcmludGxuKCJnZW5lcmF0aW5nIHRyYW5zZm9y
bSBtZXNzYWdlcyAuLi4iKTsKICAgICAgICAgICAgICAgIG1fZmlsZS5wcmludGxuKCIgPFRyYW5z
Zm9ybWF0aW9uX01lc3NhZ2VzPiIpOwogICAgICAgICAgICAgICAgSURhdGFDdXJzb3IgZXJyb3JB
bmRXYXJuaW5nVmFsdWVzID0gKChJRGF0YSlwaXBlbGluZUN1cnNvci5nZXRWYWx1ZSgpKS5nZXRD
dXJzb3IoKTsKCiAgICAgICAgICAgIAlpZiAoZXJyb3JBbmRXYXJuaW5nVmFsdWVzLmZpcnN0KElD
b25zdGFudHMuVFJBTlNGT1JNX0VSUk9SX1ZBTFVFX0tFWSkpCiAgICAgICAgICAgIAl7CiAgICAg
ICAgICAgICAgICAJSURhdGFDdXJzb3IgbV9lcnJvclZhbHVlcyA9ICgoSURhdGEpZXJyb3JBbmRX
YXJuaW5nVmFsdWVzLmdldFZhbHVlKCkpLmdldEN1cnNvcigpOwoJICAgICAgICAgICAgICAgIG1f
ZmlsZS5wcmludGxuKCIgIDxFcnJvcnM+Iik7CgkgICAgICAgICAgICAgICAgU3RyaW5nIGtleSA9
IG51bGw7CiAgICAJICAgICAgICAgICAgU3RyaW5nIHZhbHVlID0gbnVsbDsKICAgICAgICAgICAg
ICAgIAogICAgICAgIAkgICAgICAgIGlmIChtX2Vycm9yVmFsdWVzLmZpcnN0KCkpCiAgICAgICAg
ICAgIAkgICAgewogICAgICAgICAgICAgICAgCSAgICBkbwogICAgICAgICAgICAgICAgICAgIAl7
CiAgICAgICAgICAgICAgICAgICAgICAgIAkvL1N5c3RlbS5vdXQucHJpbnRsbigiRXJyb3JzIGhh
cyBtb3JlIGRhdGEuIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBtX2Vycm9y
VmFsdWVzLmdldEtleSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBub3Jt
YWxpemUoKFN0cmluZykgbV9lcnJvclZhbHVlcy5nZXRWYWx1ZSgpKTsKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIG1fZmlsZS5wcmludGxuKCIgIDxNc2c+Iik7CiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBtX2ZpbGUucHJpbnRsbigiICAgICIgKyBrZXkgKyAiICAgIiArIHZhbHVlKTsg
ICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtX2ZpbGUucHJpbnRs
bigiICA8L01zZz4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg
ICAgIAl3aGlsZShtX2Vycm9yVmFsdWVzLm5leHQoKSk7CiAgICAgICAgICAgICAgICAJfQoJICAg
ICAgICAgICAgICAgIG1fZmlsZS5wcmludGxuKCIgIDwvRXJyb3JzPiIpOwoJCQkJfQoKICAgICAg
ICAgICAgCWlmIChlcnJvckFuZFdhcm5pbmdWYWx1ZXMuZmlyc3QoSUNvbnN0YW50cy5UUkFOU0ZP
Uk1fV0FSTklOR19WQUxVRV9LRVkpKQogICAgICAgICAgICAJewogICAgICAgICAgICAgICAgCUlE
YXRhQ3Vyc29yIG1fd2FybmluZ1ZhbHVlcyA9ICgoSURhdGEpZXJyb3JBbmRXYXJuaW5nVmFsdWVz
LmdldFZhbHVlKCkpLmdldEN1cnNvcigpOwoJICAgICAgICAgICAgICAgIG1fZmlsZS5wcmludGxu
KCIgIDxXYXJuaW5ncz4iKTsKCSAgICAgICAgICAgICAgICBTdHJpbmcga2V5ID0gbnVsbDsKICAg
IAkgICAgICAgICAgICBTdHJpbmcgdmFsdWUgPSBudWxsOwogICAgICAgICAgICAgICAgCiAgICAg
ICAgCSAgICAgICAgaWYgKG1fd2FybmluZ1ZhbHVlcy5maXJzdCgpKQogICAgICAgICAgICAJICAg
IHsKICAgICAgICAgICAgICAgIAkgICAgZG8KICAgICAgICAgICAgICAgICAgICAJewogICAgICAg
ICAgICAgICAgICAgICAgICAJLy9TeXN0ZW0ub3V0LnByaW50bG4oIldhcm5pbmdzIGhhcyBtb3Jl
IGRhdGEuIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBtX3dhcm5pbmdWYWx1
ZXMuZ2V0S2V5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5vcm1hbGl6
ZSgoU3RyaW5nKSBtX3dhcm5pbmdWYWx1ZXMuZ2V0VmFsdWUoKSk7CiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBtX2ZpbGUucHJpbnRsbigiICA8TXNnPiIpOwogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgbV9maWxlLnByaW50bG4oIiAgICAiICsga2V5ICsgIiAgICIgKyB2YWx1ZSk7ICAg
ICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbV9maWxlLnByaW50bG4o
IiAgPC9Nc2c+Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAg
ICAJd2hpbGUobV93YXJuaW5nVmFsdWVzLm5leHQoKSk7CiAgICAgICAgICAgICAgICAJfQoJICAg
ICAgICAgICAgICAgIG1fZmlsZS5wcmludGxuKCIgIDwvV2FybmluZ3M+Iik7CgkJCQl9CgogICAg
ICAgICAgICAgICAgbV9maWxlLnByaW50bG4oIiA8L1RyYW5zZm9ybWF0aW9uX01lc3NhZ2VzPiIp
OwogICAgICAgICAgICB9CiAKICAgICAgICAgICAgCiAgICAgICAgICAgIG1fZmlsZS5wcmludGxu
KCI8L21lc3NhZ2U+Iik7CgogICAgICAgICAgICBpZiAobV9maWxlICE9IG51bGwpCiAgICAgICAg
ICAgIHsKICAgICAgICAgICAgICAgIG1fZmlsZS5jbG9zZSgpOwogICAgICAgICAgICB9CgkJCgkJ
CgkJfQoJCWNhdGNoKCBFeGNlcHRpb24gZSApCgkJewoJCSAgICBTeXN0ZW0ub3V0LnByaW50bG4o
ZS5nZXRNZXNzYWdlKCkpOwoJCQllLnByaW50U3RhY2tUcmFjZSgpOwoJCX0gICAgCg==</value>
</Values>
